<link rel="import" href="../polymer/polymer.html">

<link rel="import" href="../iron-icons/iron-icons.html">

<link rel="import" href="../paper-material/paper-material.html">
<link rel="import" href="../paper-item/paper-item.html">
<link rel="import" href="../paper-item/paper-icon-item.html">
<link rel="import" href="../paper-item/paper-item-body.html">

<!--
`event-timeline`


@demo demo/index.html
-->

<dom-module id="event-timeline-item">
  <template>
    <style>
      :host {
        display: block;
        background-color: transparent;
        transition: background-color 1s linear;
      }
      :host[highlighted] {
        background-color: yellow;
      }
      paper-material {
        border-bottom: 1px solid gray;
      }
    </style>
    
    <paper-material elevation="0">
      <paper-item>
        <paper-item-body two-line>
          <div secondary>Pulse-ID: [[event.pulse_id]]</div>
          <div secondary>Date: [[event.start]]</div>
          <div secondary>Station: [[event.station]]</div>
          <div secondary>Error: [[event.error]] [Previous error: [[event.previous_error]]]</div>
        </paper-item-body>
      </paper-item>
    </paper-material>
    
  </template>

  <script>
      (function() {
    
    Polymer({
      
      is: "event-timeline-item", 

      properties: {
        
        event: {
          type: Object,
          notify: true
        },

        /**
         * Adds a CSS hightlight animation.
         */
        highlighted: {
          type: Boolean,
          value: false,
          reflectToAttribute: true,
        },

        /**
         * Animation duration in milliseconds.
         * @type {Object}
         */
        _highlightedAnimationTime: {
          type: Number,
          value: 500
        }

      },

      setHighlighted: function() {
        if (!_.isEmpty(this.event)) {
          this.highlighted = true;
          setTimeout(function() {
            this.highlighted = false;
          }.bind(this), this._highlightedAnimationTime + 100);
        }
      }

    });
  })();


  </script>
</dom-module>
